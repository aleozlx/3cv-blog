---
title: Make a Blackhole (not realistic render)
subTitle: Make a Blackhole with Vertex Shader and Vector Field
cover: bh.png
category: "Maths"
---

See also [Live Demo](https://anvaka.github.io/fieldplay/?cx=-8.7899&cy=0.23650000000000038&w=31.0606&h=31.0606&dt=0.01&fo=0.99&dp=0.005&cm=2&vf=float%20phi%28float%20x%29%20%7B%0A%20%20return%201.%2F%281.%2Bexp%28-x%29%29%3B%0A%7D%0A%0Avec2%20get_velocity%28vec2%20p%29%20%7B%0A%20%20vec2%20v%20%3D%20vec2%280.%2C%200.%29%3B%0A%20%20float%20pi%20%3D%203.14159%3B%0A%20%20float%20alpha%20%3D%20pi%2F2.*phi%28length%28p%29-2.*pi%29%2Bpi%2F2.%3B%0A%20%20if%20%28length%28p%29%3Cpi%29%20%7B%0A%20%20%20%20alpha%20%3D%20pi%2F2.*phi%281.6*%28pi%2F2.-length%28p%29%29%29%2Bpi%2F2.%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20alpha%20%3D%20pi%2F2.*phi%28length%28p%29-2.*pi%29%2Bpi%2F2.%3B%0A%20%20%20%20alpha%20%3D%20-%20alpha%3B%0A%20%20%7D%0A%20%20v.x%20%3D%20cos%28alpha%29*p.x%2Bsin%28alpha%29*p.y%3B%0A%20%20v.y%20%3D%20-sin%28alpha%29*p.x%2Bcos%28alpha%29*p.y%3B%0A%20%20if%20%28length%28p%29%3Cpi%29%20%7B%0A%20%20%20%20vec2%20u%20%3D%20vec2%280.%2C%200.%29%3B%0A%20%20%20%20u.x%20%3D%20v.x%2Flength%28v%29%3B%0A%20%20%09u.y%20%3D%20v.y%2Flength%28v%29%3B%0A%20%20%20%20return%20u*pi%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20v%3B%0A%20%20%7D%0A%7D&code=float%20phi%28float%20x%29%20%7B%0A%20%20return%201.%2F%281.%2Bexp%28-x%29%29%3B%0A%7D%0A%0Avec2%20get_velocity%28vec2%20p%29%20%7B%0A%20%20vec2%20v%20%3D%20vec2%280.%2C%200.%29%3B%0A%20%20float%20pi%20%3D%203.14159%3B%0A%20%20float%20alpha%20%3D%20pi%2F2.*phi%28length%28p%29-2.*pi%29%2Bpi%2F2.%3B%0A%20%20if%20%28length%28p%29%3Cpi%29%20%7B%0A%20%20%20%20alpha%20%3D%20pi%2F2.*phi%281.6*%28pi%2F2.-length%28p%29%29%29%2Bpi%2F2.%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20alpha%20%3D%20pi%2F2.*phi%28length%28p%29-2.*pi%29%2Bpi%2F2.%3B%0A%20%20%20%20alpha%20%3D%20-%20alpha%3B%0A%20%20%7D%0A%20%20v.x%20%3D%20cos%28alpha%29*p.x%2Bsin%28alpha%29*p.y%3B%0A%20%20v.y%20%3D%20-sin%28alpha%29*p.x%2Bcos%28alpha%29*p.y%3B%0A%20%20if%20%28length%28p%29%3Cpi%29%20%7B%0A%20%20%20%20vec2%20u%20%3D%20vec2%280.%2C%200.%29%3B%0A%20%20%20%20u.x%20%3D%20v.x%2Flength%28v%29%3B%0A%20%20%09u.y%20%3D%20v.y%2Flength%28v%29%3B%0A%20%20%20%20return%20u*pi%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20v%3B%0A%20%20%7D%0A%7D) and [Gist](https://gist.github.com/aleozlx/69f84ac008f4ab22fbbcd6960ca53fa0)

![Blackhole Render](bh-render.png)